"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.barterLeadingBlank = void 0;
const to_lines_1 = __importDefault(require("@commitlint/to-lines"));
const message_1 = __importDefault(require("@commitlint/message"));
const barterLeadingBlank = (parsed, when = 'always') => {
    // Flunk if no barter is found
    if (!parsed.barter) {
        return [true];
    }
    const negated = when === 'never';
    const rawLines = (0, to_lines_1.default)(parsed.raw);
    const barterLines = (0, to_lines_1.default)(parsed.barter);
    const barterOffset = rawLines.indexOf(barterLines[0]);
    const [leading] = rawLines.slice(barterOffset - 1);
    // Check if the first line of barter is empty
    const succeeds = leading === '';
    return [
        negated ? !succeeds : succeeds,
        (0, message_1.default)([
            'barter',
            negated ? 'may not' : 'must',
            'have leading blank line',
        ]),
    ];
};
exports.barterLeadingBlank = barterLeadingBlank;
//# sourceMappingURL=barter-leading-blank.js.map